(()=>{var e={};e.id=176,e.ids=[176],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41204:e=>{"use strict";e.exports=require("string_decoder")},34589:e=>{"use strict";e.exports=require("node:assert")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},4573:e=>{"use strict";e.exports=require("node:buffer")},37540:e=>{"use strict";e.exports=require("node:console")},77598:e=>{"use strict";e.exports=require("node:crypto")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},78474:e=>{"use strict";e.exports=require("node:events")},37067:e=>{"use strict";e.exports=require("node:http")},32467:e=>{"use strict";e.exports=require("node:http2")},77030:e=>{"use strict";e.exports=require("node:net")},643:e=>{"use strict";e.exports=require("node:perf_hooks")},41792:e=>{"use strict";e.exports=require("node:querystring")},57075:e=>{"use strict";e.exports=require("node:stream")},41692:e=>{"use strict";e.exports=require("node:tls")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},73429:e=>{"use strict";e.exports=require("node:util/types")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},38522:e=>{"use strict";e.exports=require("node:zlib")},19103:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(70260),l=s(28203),o=s(25155),n=s.n(o),i=s(67292),a={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>i[e]);s.d(t,a);let c=["",{children:["scores",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,79855)),"/Users/annaxu/Desktop/yaleims/frontend/src/app/scores/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/Users/annaxu/Desktop/yaleims/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/annaxu/Desktop/yaleims/frontend/src/app/scores/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/scores/page",pathname:"/scores",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},20578:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,96313,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},38730:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,86013,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},74777:(e,t,s)=>{Promise.resolve().then(s.bind(s,71354))},45401:(e,t,s)=>{Promise.resolve().then(s.bind(s,65276))},52194:(e,t,s)=>{Promise.resolve().then(s.bind(s,79855))},70346:(e,t,s)=>{Promise.resolve().then(s.bind(s,97337))},79334:(e,t,s)=>{"use strict";var r=s(58686);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},65276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(45512),l=s(90307),o=s.n(l);s(44263);var n=s(58009),i=s.n(n),a=s(3627),c=s(52414),d=s(84236),u=s(40001),x=s(93654),h=s(47232);let p=({name:e})=>(0,r.jsxs)(a.default,{href:"/profile",className:"bg-white text-blue-600 py-1 px-3 rounded hover:bg-gray-100",children:["Welcome, ",e,"!"]}),m=()=>{let{resetFilters:e}=(0,n.useContext)(x.t),[t,s]=i().useState(!1),{user:l,signIn:o,loading:m}=(0,h.J)(),g=()=>{s(!1),e()},j=[{href:"/",text:"YALE IMS",text_mobile:"Home",icon:(0,r.jsx)(c.rQ8,{})},{href:"/about",text:"About",icon:(0,r.jsx)(c.itz,{})},{href:"/scores",text:"Scores",icon:(0,r.jsx)(d.soM,{})},{href:"/schedule",text:"Schedule",icon:(0,r.jsx)(c.itz,{})}];return(0,r.jsxs)("nav",{className:"md:bg-blue-600 bg-blue-600 text-white p-5 items-center w-full fixed top-0 z-50",children:[(0,r.jsxs)("div",{className:"md:flex md:block justify-between items-center hidden",children:[(0,r.jsx)("div",{className:"hover:text-slate-300 text-xl pl-10",children:(0,r.jsx)(a.default,{href:j[0].href,onClick:e,children:j[0].text})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[j.slice(1).map((t,s)=>(0,r.jsxs)(a.default,{href:t.href,className:"hover:text-slate-300 flex justify-between items-center pl-4 pr-4 last:text-4xl last:pr-10",onClick:e,children:[(0,r.jsx)("div",{className:" ",children:t.text}),(0,r.jsx)("div",{className:"pl-1",children:t.icon})]},t.href)),m?(0,r.jsx)("div",{className:"animate-pulse text-white",children:"Loading..."}):l?(0,r.jsx)(p,{name:l.name}):(0,r.jsx)("button",{onClick:o,className:"bg-white text-blue-600 py-1 px-3 rounded hover:bg-gray-100",children:"Sign in with Google"})]})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>{s(!t)},children:t?(0,r.jsx)(u.WQq,{size:30}):(0,r.jsx)(u.fF8,{size:30})})}),t&&(0,r.jsxs)("div",{className:"md:hidden bg-blue-600 flex flex-col pb-4 px-6 space-y-4 rounded-b-lg shadow-lg",children:[j.map((e,t)=>(0,r.jsx)(a.default,{href:e.href,onClick:g,className:"hover:text-slate-300 flex justify-center items-center font-medium transition duration-200",children:e.text_mobile||e.text},t+"-second")),(0,r.jsx)("div",{className:"pt-4 border-t border-white/30",children:m?(0,r.jsx)("div",{className:"animate-pulse text-gray-300 text-center",children:"Loading..."}):l?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(p,{name:l.name})}):(0,r.jsx)("button",{onClick:o,className:"block w-full bg-white text-blue-700 py-2 px-4 rounded-lg font-semibold hover:bg-gray-100 transition duration-200",children:"Sign in with Google"})})]})]})};var g=s(75074);function j({children:e}){return(0,r.jsx)(h.v,{children:(0,r.jsx)(x.A,{children:(0,r.jsx)(g.G_,{clientId:"683055403263-8nk173ne786mjmhicqmuod2ufmcdnnec.apps.googleusercontent.com",children:(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsx)("head",{children:(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})}),(0,r.jsxs)("body",{className:o().className,children:[(0,r.jsx)(m,{}),(0,r.jsx)("div",{className:"mb-10"}),e]})]})})})})}},97337:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(45512),l=s(58009),o=s(79334),n=s(45103),i=s(94037),a=s(93654);let c={"Flag Football":6,Spikeball:6,Cornhole:6,Pickleball:6,"Table Tennis":8,Soccer:11},d={"Flag Football":"\uD83C\uDFC8",Spikeball:"\uD83E\uDD3E",Cornhole:"\uD83C\uDF3D",Pickleball:"\uD83E\uDD52","Table Tennis":"\uD83C\uDFD3",Soccer:"âš½"},u={BF:"Benjamin Franklin",BK:"Berkeley",BR:"Branford",DC:"Davenport",ES:"Ezra Stiles",GH:"Grace Hopper",JE:"Jonathan Edwards",MC:"Morse",MY:"Pauli Murray",PC:"Pierson",SY:"Saybrook",SM:"Silliman",TD:"Timothy Dwight",TC:"Trumbull"},x=()=>{let{filter:e,setFilter:t}=(0,l.useContext)(a.t),s=(0,o.useRouter)(),[x,h]=(0,l.useState)([]),[p,m]=(0,l.useState)(0),[g,j]=(0,l.useState)(0),[f,b]=(0,l.useState)(0),[v,y]=(0,l.useState)(!0);(0,l.useEffect)(()=>{document.title="Scores"},[]),(0,l.useEffect)(()=>{setTimeout(()=>{y(!1)},1e3);let e=sessionStorage.getItem("selectedCollege");e&&t(t=>({...t,college:e}))},[]),(0,l.useEffect)(()=>{(async()=>{try{let t=await fetch("https://us-central1-yims-125a2.cloudfunctions.net/getMatches?type=past",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error(`Error fetching scores: ${t.statusText}`);let s=(await t.json()).filter(t=>{let s=!e.college||[t.home_college,t.away_college].includes(e.college),r=!e.sport||t.sport===e.sport,l=!e.date||t.timestamp===e.date;return s&&r&&l});h(s),e.college&&w(e.college,s)}catch(e){console.error("Failed to fetch scores:",e)}})()},[e]);let w=(e,t)=>{let s=t.reduce((t,s)=>{let r="Soccer"===s.sport?11:6;return s.winner===e?t+r:"Tie"===s.winner?t+r/2:t},0),r=t.filter(t=>t.home_college===e||t.away_college===e).length;m(s),b(r),j(1)},_=e=>{let{name:s,value:r}=e.target;t(e=>({...e,[s]:r}))},k=e=>{t(t=>({...t,college:e}))},N=e=>{sessionStorage.setItem("selectedCollege",e),s.push("/schedule")},C=()=>(0,r.jsx)("thead",{className:"bg-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)("div",{children:(0,r.jsxs)("select",{name:"date",onChange:_,className:"text-xs border-gray-300 rounded-md py-1 px-2",children:[(0,r.jsx)("option",{value:"all",children:"Date/Time"}),(0,r.jsx)("option",{value:"today",children:"Today"}),(0,r.jsx)("option",{value:"this_week",children:"This Week"})]})})}),(0,r.jsx)("th",{className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)("div",{children:(0,r.jsxs)("select",{name:"college",onChange:_,className:"text-xs border-gray-300 rounded-md py-1 px-2",children:[(0,r.jsx)("option",{value:"",children:"All Colleges & Scores"}),(0,r.jsx)("option",{value:"BF",children:"Benjamin Franklin"}),(0,r.jsx)("option",{value:"BR",children:"Berkeley"}),(0,r.jsx)("option",{value:"BR",children:"Branford"}),(0,r.jsx)("option",{value:"DC",children:"Davenport"}),(0,r.jsx)("option",{value:"ES",children:"Ezra Stiles"}),(0,r.jsx)("option",{value:"GH",children:"Grace Hopper"}),(0,r.jsx)("option",{value:"JE",children:"Jonathan Edwards"}),(0,r.jsx)("option",{value:"MC",children:"Morse"}),(0,r.jsx)("option",{value:"MY",children:"Pauli Murray"}),(0,r.jsx)("option",{value:"PC",children:"Pierson"}),(0,r.jsx)("option",{value:"SB",children:"Saybrook"}),(0,r.jsx)("option",{value:"SI",children:"Silliman"}),(0,r.jsx)("option",{value:"TD",children:"Timothy Dwight"}),(0,r.jsx)("option",{value:"TR",children:"Trumbull"})]})})}),(0,r.jsx)("th",{className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)("div",{children:(0,r.jsxs)("select",{name:"sport",onChange:_,className:"text-xs border-gray-300 rounded-md py-1 px-2",children:[(0,r.jsx)("option",{value:"",children:"All Sport"}),(0,r.jsx)("option",{value:"Flag Football",children:"Flag Football"}),(0,r.jsx)("option",{value:"Spikeball",children:"Spikeball"}),(0,r.jsx)("option",{value:"Cornhole",children:"Cornhole"}),(0,r.jsx)("option",{value:"Pickleball",children:"Pickleball"}),(0,r.jsx)("option",{value:"Table Tennis",children:"Table Tennis"})]})})}),(0,r.jsx)("th",{className:"text-righ px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Players"})]})}),S=({match:e,onShowParticipants:t})=>(0,r.jsxs)("tr",{className:"bg-white",children:[(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,r.jsx)("td",{className:"text-center px-6 py-4 text-sm text-gray-500",children:e.home_college_score>e.away_college_score?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("strong",{className:"cursor-pointer text-green-500",onClick:()=>k(e.home_college),children:u[e.home_college]}),"(",e.home_college_score,") +",c[e.sport],"pts vs",(0,r.jsx)("strong",{className:"cursor-pointer text-red-500",onClick:()=>k(e.away_college),children:" "+u[e.away_college]}),"(",e.away_college_score,") + 0pts"]}):e.home_college_score<e.away_college_score?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("strong",{className:"cursor-pointer text-red-500",onClick:()=>k(e.home_college),children:u[e.home_college]}),"(",e.home_college_score,") + 0pts vs",(0,r.jsx)("strong",{className:"cursor-pointer text-green-500",onClick:()=>k(e.away_college),children:" "+u[e.away_college]}),"(",e.away_college_score,") +",c[e.sport],"pts"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("strong",{className:"cursor-pointer text-orange-500",onClick:()=>k(e.home_college),children:u[e.home_college]}),"(",e.home_college_score,") +",c[e.sport]/2,"pts vs",(0,r.jsx)("strong",{className:"cursor-pointer text-orange-500",onClick:()=>k(e.away_college),children:" "+u[e.away_college]}),"(",e.away_college_score,") +",c[e.sport]/2,"pts"]})}),(0,r.jsx)("td",{className:"text-center px-2 py-1",children:d[e.sport]}),(0,r.jsx)("td",{className:"text-right px-6 text-sm text-gray-500",children:(0,r.jsx)("button",{onClick:()=>t(e),className:"text-blue-500 hover:text-blue-700",children:"Players"})})]});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 p-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 pt-8",children:"Scores and Rankings"}),e.college&&(0,r.jsxs)("div",{className:"mb-8 bg-white shadow-lg rounded-lg p-6 max-w-md mx-auto text-center flex flex-col items-center justify-center",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold mb-4",children:[u[e.college]," Overview"]}),(0,r.jsx)(n.default,{src:`/college_flags/${u[e.college]}.png`,alt:`${u[e.college]}_flag`,width:"64",height:"64"}),(0,r.jsxs)("div",{className:"text-xl text-gray-700 mb-4",children:[(0,r.jsxs)("p",{children:["Total Points: ",(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:p})]}),(0,r.jsxs)("p",{children:["Games Played: ",(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:f})]}),(0,r.jsxs)("p",{children:["Rank: ",(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:"TODO"})]}),(0,r.jsx)("div",{className:"text-center mb-0",children:(0,r.jsx)("button",{onClick:()=>N(e.college),className:"px-6 py-2 mt-5 bg-blue-600 text-white rounded-lg",children:"Schedule"})})]})]}),(0,r.jsx)(({filteredMatches:e})=>{let t=e=>{console.log("TODO")};return(0,r.jsxs)("table",{className:"min-w-full bg-white shadow-md rounded-lg",children:[(0,r.jsx)(C,{}),(0,r.jsx)("tbody",{children:e.map((e,s)=>(0,r.jsx)(S,{match:e,onShowParticipants:t},s))})]})},{filteredMatches:x}),v&&(0,r.jsx)(i.A,{})]})}},94037:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(45512);s(58009);let l=()=>(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-600 z-50",children:(0,r.jsx)("img",{src:"/loader_animations/sport_loader.gif",alt:"Loading...",className:"object-none"})})},93654:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,t:()=>o});var r=s(45512),l=s(58009);let o=(0,l.createContext)({filter:{college:"",sport:"",date:""},setFilter:()=>{},resetFilters:()=>{}}),n=({children:e})=>{let[t,s]=(0,l.useState)({college:"",sport:"",date:""});return(0,r.jsx)(o.Provider,{value:{filter:t,setFilter:s,resetFilters:()=>{s({college:"",sport:"",date:""})}},children:e})}},47232:(e,t,s)=>{"use strict";s.d(t,{v:()=>u,J:()=>x});var r=s(45512),l=s(58009),o=s(46722),n=s(98959);let i=(0,o.Wp)({apiKey:"AIzaSyB4ja4JXughIwxLPEt42mNClHH53sN0D6Q",authDomain:"yims-125a2.firebaseapp.com",projectId:"yims-125a2",storageBucket:"yims-125a2.appspot.com",messagingSenderId:"846558223250",appId:"1:846558223250:web:38c418708cc6f04e003f4b"}),a=(0,n.xI)(i),c=new n.HF,d=(0,l.createContext)(),u=({children:e})=>{let[t,s]=(0,l.useState)(null),[o,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{a.onAuthStateChanged(async e=>{if(e){let t=await h(e.email);s({name:e.displayName,email:e.email,matches:t.user.matches,college:t.user.college,points:t.user.points})}else s(null);i(!1)})},[]);let u=async()=>{try{let e=(await (0,n.df)(a,c)).user;if(!e.email.endsWith("@yale.edu"))throw Error("You must use a Yale email to sign in.");let t=await h(e.email);s({name:e.displayName,email:e.email,matches:t.user.matches,college:t.user.college,points:t.user.points})}catch(e){console.error("Error during sign-in:",e.message),alert(e.message),s(null)}},x=async()=>{try{await a.signOut(),s(null)}catch(e){console.error("Sign-out error:",e.message)}},h=async e=>{try{let t=await fetch("https://us-central1-yims-125a2.cloudfunctions.net/fetchOrAddUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return await t.json()}catch(e){console.error("Error:",e)}};return(0,r.jsx)(d.Provider,{value:{user:t,signIn:u,signOut:x,loading:o},children:e})},x=()=>(0,l.useContext)(d)},71354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/annaxu/Desktop/yaleims/frontend/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/annaxu/Desktop/yaleims/frontend/src/app/layout.tsx","default")},79855:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/annaxu/Desktop/yaleims/frontend/src/app/scores/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/annaxu/Desktop/yaleims/frontend/src/app/scores/page.tsx","default")},44263:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[989,21,103],()=>s(19103));module.exports=r})();