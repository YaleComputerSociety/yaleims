(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{9906:(e,s,t)=>{Promise.resolve().then(t.bind(t,2303))},2303:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5155),l=t(5457),r=t(5565);let n=()=>{let{user:e,loading:s,signOut:t}=(0,l.J)(),n=async()=>{try{await t()}catch(e){console.error("Error signing out: ",e)}};return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen text-xl text-gray-500",children:(0,a.jsx)("span",{children:"Loading..."})}):e?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg space-y-6",children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(r.default,{src:"/college_flags/".concat(e.college.replace(/\s+/g," "),".png"),alt:e.college,width:48,height:48,className:"rounded-md object-contain"}),(0,a.jsxs)("h2",{className:"text-3xl font-semibold",children:[e.name,"'s Profile"]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"College:"})," ",e.college]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Points:"})," ",e.points]}),(0,a.jsxs)("p",{className:"text-lg",children:[(0,a.jsx)("strong",{children:"Matches:"})," ",e.matches.length]})]}),(0,a.jsx)("div",{className:"mt-6 text-gray-500 text-sm",children:(0,a.jsxs)("p",{children:["Last updated: ",new Date().toLocaleDateString()]})}),(0,a.jsx)("button",{onClick:n,className:"mt-6 py-2 px-4 bg-red-500 text-white rounded-md",children:"Log Out"})]}):(0,a.jsx)("div",{className:"flex justify-center items-center h-screen text-xl text-gray-500",children:(0,a.jsx)("span",{children:"User not signed in"})})}},5457:(e,s,t)=>{"use strict";t.d(s,{v:()=>m,J:()=>h});var a=t(5155),l=t(2115),r=t(9904),n=t(4565);let c=(0,r.Wp)({apiKey:"AIzaSyB4ja4JXughIwxLPEt42mNClHH53sN0D6Q",authDomain:"yims-125a2.firebaseapp.com",projectId:"yims-125a2",storageBucket:"yims-125a2.appspot.com",messagingSenderId:"846558223250",appId:"1:846558223250:web:38c418708cc6f04e003f4b"}),i=(0,n.xI)(c),o=new n.HF,d=(0,l.createContext)(),m=e=>{let{children:s}=e,[t,r]=(0,l.useState)(null),[c,m]=(0,l.useState)(!0);(0,l.useEffect)(()=>{i.onAuthStateChanged(async e=>{if(e){let s=await g(e.email);r({name:e.displayName,email:e.email,matches:s.user.matches,college:s.user.college,points:s.user.points})}else r(null);m(!1)})},[]);let h=async()=>{try{let e=(await (0,n.df)(i,o)).user;if(!e.email.endsWith("@yale.edu"))throw Error("You must use a Yale email to sign in.");let s=await g(e.email);r({name:e.displayName,email:e.email,matches:s.user.matches,college:s.user.college,points:s.user.points})}catch(e){console.error("Error during sign-in:",e.message),alert(e.message),r(null)}},u=async()=>{try{await i.signOut(),r(null)}catch(e){console.error("Sign-out error:",e.message)}},g=async e=>{try{let s=await fetch("https://us-central1-yims-125a2.cloudfunctions.net/fetchOrAddUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return await s.json()}catch(e){console.error("Error:",e)}};return(0,a.jsx)(d.Provider,{value:{user:t,signIn:h,signOut:u,loading:c},children:s})},h=()=>(0,l.useContext)(d)}},e=>{var s=s=>e(e.s=s);e.O(0,[794,565,803,441,517,358],()=>s(9906)),_N_E=e.O()}]);