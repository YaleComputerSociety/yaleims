(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{2614:(e,l,t)=>{Promise.resolve().then(t.bind(t,6593))},6046:(e,l,t)=>{"use strict";var s=t(6658);t.o(s,"useRouter")&&t.d(l,{useRouter:function(){return s.useRouter}})},6593:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>h});var s=t(5155),r=t(2115),o=t(6046),a=t(5565),n=t(3873),c=t(3338);let i={"Flag Football":6,Spikeball:6,Cornhole:6,Pickleball:6,"Table Tennis":8,Soccer:11},d={"Flag Football":"\uD83C\uDFC8",Spikeball:"\uD83E\uDD3E",Cornhole:"\uD83C\uDF3D",Pickleball:"\uD83E\uDD52","Table Tennis":"\uD83C\uDFD3",Soccer:"âš½"},x={BF:"Benjamin Franklin",BK:"Berkeley",BR:"Branford",DC:"Davenport",ES:"Ezra Stiles",GH:"Grace Hopper",JE:"Jonathan Edwards",MC:"Morse",MY:"Pauli Murray",PC:"Pierson",SY:"Saybrook",SM:"Silliman",TD:"Timothy Dwight",TC:"Trumbull"},h=()=>{let{filter:e,setFilter:l}=(0,r.useContext)(c.t),t=(0,o.useRouter)(),[h,u]=(0,r.useState)([]),[g,p]=(0,r.useState)(0),[m,j]=(0,r.useState)(0),[y,b]=(0,r.useState)(0),[v,_]=(0,r.useState)(!0);(0,r.useEffect)(()=>{document.title="Scores"},[]),(0,r.useEffect)(()=>{setTimeout(()=>{_(!1)},1e3);let e=sessionStorage.getItem("selectedCollege");e&&l(l=>({...l,college:e}))},[]),(0,r.useEffect)(()=>{(async()=>{try{let l=await fetch("https://us-central1-yims-125a2.cloudfunctions.net/getMatches?type=past",{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw Error("Error fetching scores: ".concat(l.statusText));let t=(await l.json()).filter(l=>{let t=!e.college||[l.home_college,l.away_college].includes(e.college),s=!e.sport||l.sport===e.sport,r=!e.date||l.timestamp===e.date;return t&&s&&r});u(t),e.college&&f(e.college,t)}catch(e){console.error("Failed to fetch scores:",e)}})()},[e]);let f=(e,l)=>{let t=l.reduce((l,t)=>{let s="Soccer"===t.sport?11:6;return t.winner===e?l+s:"Tie"===t.winner?l+s/2:l},0),s=l.filter(l=>l.home_college===e||l.away_college===e).length;p(t),b(s),j(1)},w=e=>{let{name:t,value:s}=e.target;l(e=>({...e,[t]:s}))},N=e=>{l(l=>({...l,college:e}))},k=e=>{sessionStorage.setItem("selectedCollege",e),t.push("/schedule")},S=()=>(0,s.jsx)("thead",{className:"bg-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)("div",{children:(0,s.jsxs)("select",{name:"date",onChange:w,className:"text-xs border-gray-300 rounded-md py-1 px-2",children:[(0,s.jsx)("option",{value:"all",children:"Date/Time"}),(0,s.jsx)("option",{value:"today",children:"Today"}),(0,s.jsx)("option",{value:"this_week",children:"This Week"})]})})}),(0,s.jsx)("th",{className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)("div",{children:(0,s.jsxs)("select",{name:"college",onChange:w,className:"text-xs border-gray-300 rounded-md py-1 px-2",children:[(0,s.jsx)("option",{value:"",children:"All Colleges & Scores"}),(0,s.jsx)("option",{value:"BF",children:"Benjamin Franklin"}),(0,s.jsx)("option",{value:"BR",children:"Berkeley"}),(0,s.jsx)("option",{value:"BR",children:"Branford"}),(0,s.jsx)("option",{value:"DC",children:"Davenport"}),(0,s.jsx)("option",{value:"ES",children:"Ezra Stiles"}),(0,s.jsx)("option",{value:"GH",children:"Grace Hopper"}),(0,s.jsx)("option",{value:"JE",children:"Jonathan Edwards"}),(0,s.jsx)("option",{value:"MC",children:"Morse"}),(0,s.jsx)("option",{value:"MY",children:"Pauli Murray"}),(0,s.jsx)("option",{value:"PC",children:"Pierson"}),(0,s.jsx)("option",{value:"SB",children:"Saybrook"}),(0,s.jsx)("option",{value:"SI",children:"Silliman"}),(0,s.jsx)("option",{value:"TD",children:"Timothy Dwight"}),(0,s.jsx)("option",{value:"TR",children:"Trumbull"})]})})}),(0,s.jsx)("th",{className:"text-center px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)("div",{children:(0,s.jsxs)("select",{name:"sport",onChange:w,className:"text-xs border-gray-300 rounded-md py-1 px-2",children:[(0,s.jsx)("option",{value:"",children:"All Sport"}),(0,s.jsx)("option",{value:"Flag Football",children:"Flag Football"}),(0,s.jsx)("option",{value:"Spikeball",children:"Spikeball"}),(0,s.jsx)("option",{value:"Cornhole",children:"Cornhole"}),(0,s.jsx)("option",{value:"Pickleball",children:"Pickleball"}),(0,s.jsx)("option",{value:"Table Tennis",children:"Table Tennis"})]})})}),(0,s.jsx)("th",{className:"text-righ px-6 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Players"})]})}),C=e=>{let{match:l,onShowParticipants:t}=e;return(0,s.jsxs)("tr",{className:"bg-white",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(l.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,s.jsx)("td",{className:"text-center px-6 py-4 text-sm text-gray-500",children:l.home_college_score>l.away_college_score?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{className:"cursor-pointer text-green-500",onClick:()=>N(l.home_college),children:x[l.home_college]}),"(",l.home_college_score,") +",i[l.sport],"pts vs",(0,s.jsx)("strong",{className:"cursor-pointer text-red-500",onClick:()=>N(l.away_college),children:" "+x[l.away_college]}),"(",l.away_college_score,") + 0pts"]}):l.home_college_score<l.away_college_score?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{className:"cursor-pointer text-red-500",onClick:()=>N(l.home_college),children:x[l.home_college]}),"(",l.home_college_score,") + 0pts vs",(0,s.jsx)("strong",{className:"cursor-pointer text-green-500",onClick:()=>N(l.away_college),children:" "+x[l.away_college]}),"(",l.away_college_score,") +",i[l.sport],"pts"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{className:"cursor-pointer text-orange-500",onClick:()=>N(l.home_college),children:x[l.home_college]}),"(",l.home_college_score,") +",i[l.sport]/2,"pts vs",(0,s.jsx)("strong",{className:"cursor-pointer text-orange-500",onClick:()=>N(l.away_college),children:" "+x[l.away_college]}),"(",l.away_college_score,") +",i[l.sport]/2,"pts"]})}),(0,s.jsx)("td",{className:"text-center px-2 py-1",children:d[l.sport]}),(0,s.jsx)("td",{className:"text-right px-6 text-sm text-gray-500",children:(0,s.jsx)("button",{onClick:()=>t(l),className:"text-blue-500 hover:text-blue-700",children:"Players"})})]})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 p-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 pt-8",children:"Scores and Rankings"}),e.college&&(0,s.jsxs)("div",{className:"mb-8 bg-white shadow-lg rounded-lg p-6 max-w-md mx-auto text-center flex flex-col items-center justify-center",children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold mb-4",children:[x[e.college]," Overview"]}),(0,s.jsx)(a.default,{src:"/college_flags/".concat(x[e.college],".png"),alt:"".concat(x[e.college],"_flag"),width:"64",height:"64"}),(0,s.jsxs)("div",{className:"text-xl text-gray-700 mb-4",children:[(0,s.jsxs)("p",{children:["Total Points: ",(0,s.jsx)("span",{className:"font-semibold text-blue-600",children:g})]}),(0,s.jsxs)("p",{children:["Games Played: ",(0,s.jsx)("span",{className:"font-semibold text-blue-600",children:y})]}),(0,s.jsxs)("p",{children:["Rank: ",(0,s.jsx)("span",{className:"font-semibold text-blue-600",children:"TODO"})]}),(0,s.jsx)("div",{className:"text-center mb-0",children:(0,s.jsx)("button",{onClick:()=>k(e.college),className:"px-6 py-2 mt-5 bg-blue-600 text-white rounded-lg",children:"Schedule"})})]})]}),(0,s.jsx)(e=>{let{filteredMatches:l}=e,t=e=>{console.log("TODO")};return(0,s.jsxs)("table",{className:"min-w-full bg-white shadow-md rounded-lg",children:[(0,s.jsx)(S,{}),(0,s.jsx)("tbody",{children:l.map((e,l)=>(0,s.jsx)(C,{match:e,onShowParticipants:t},l))})]})},{filteredMatches:h}),v&&(0,s.jsx)(n.A,{})]})}},3873:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});var s=t(5155);t(2115);let r=()=>(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-600 z-50",children:(0,s.jsx)("img",{src:"/loader_animations/sport_loader.gif",alt:"Loading...",className:"object-none"})})},3338:(e,l,t)=>{"use strict";t.d(l,{A:()=>a,t:()=>o});var s=t(5155),r=t(2115);let o=(0,r.createContext)({filter:{college:"",sport:"",date:""},setFilter:()=>{},resetFilters:()=>{}}),a=e=>{let{children:l}=e,[t,a]=(0,r.useState)({college:"",sport:"",date:""});return(0,s.jsx)(o.Provider,{value:{filter:t,setFilter:a,resetFilters:()=>{a({college:"",sport:"",date:""})}},children:l})}}},e=>{var l=l=>e(e.s=l);e.O(0,[565,441,517,358],()=>l(2614)),_N_E=e.O()}]);